{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLocalStorageState = void 0;\n\nconst react_1 = require(\"react\");\n\nfunction useLocalStorageState(key, defaultState) {\n  const [state, setState] = (0, react_1.useState)(() => {\n    // NOTE: Not sure if this is ok\n    if (typeof window !== \"undefined\") {\n      const storedState = localStorage.getItem(key);\n\n      if (storedState) {\n        return JSON.parse(storedState);\n      }\n    }\n\n    return defaultState;\n  });\n  const setLocalStorageState = (0, react_1.useCallback)(newState => {\n    const changed = state !== newState;\n\n    if (!changed) {\n      return;\n    }\n\n    setState(newState);\n\n    if (newState === null) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, JSON.stringify(newState));\n    }\n  }, [state, key]);\n  return [state, setLocalStorageState];\n}\n\nexports.useLocalStorageState = useLocalStorageState;","map":{"version":3,"sources":["../../src/utils/useLocalStorageState.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,SAAgB,oBAAhB,CACE,GADF,EAEE,YAFF,EAEiB;AAEf,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,CAAA,GAAA,OAAA,CAAA,QAAA,EAAY,MAAQ;AAC5C;AACA,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,YAAM,WAAW,GAAG,YAAY,CAAC,OAAb,CAAqB,GAArB,CAApB;;AACA,UAAI,WAAJ,EAAiB;AACf,eAAO,IAAI,CAAC,KAAL,CAAW,WAAX,CAAP;AACD;AACF;;AAED,WAAO,YAAP;AACD,GAVyB,CAA1B;AAYA,QAAM,oBAAoB,GAAG,CAAA,GAAA,OAAA,CAAA,WAAA,EAC1B,QAAD,IAAgB;AACd,UAAM,OAAO,GAAG,KAAK,KAAK,QAA1B;;AACA,QAAI,CAAC,OAAL,EAAc;AACZ;AACD;;AACD,IAAA,QAAQ,CAAC,QAAD,CAAR;;AACA,QAAI,QAAQ,KAAK,IAAjB,EAAuB;AACrB,MAAA,YAAY,CAAC,UAAb,CAAwB,GAAxB;AACD,KAFD,MAEO;AACL,MAAA,YAAY,CAAC,OAAb,CAAqB,GAArB,EAA0B,IAAI,CAAC,SAAL,CAAe,QAAf,CAA1B;AACD;AACF,GAZ0B,EAa3B,CAAC,KAAD,EAAQ,GAAR,CAb2B,CAA7B;AAgBA,SAAO,CAAC,KAAD,EAAQ,oBAAR,CAAP;AACD;;AAjCD,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useLocalStorageState = void 0;\nconst react_1 = require(\"react\");\nfunction useLocalStorageState(key, defaultState) {\n    const [state, setState] = (0, react_1.useState)(() => {\n        // NOTE: Not sure if this is ok\n        if (typeof window !== \"undefined\") {\n            const storedState = localStorage.getItem(key);\n            if (storedState) {\n                return JSON.parse(storedState);\n            }\n        }\n        return defaultState;\n    });\n    const setLocalStorageState = (0, react_1.useCallback)((newState) => {\n        const changed = state !== newState;\n        if (!changed) {\n            return;\n        }\n        setState(newState);\n        if (newState === null) {\n            localStorage.removeItem(key);\n        }\n        else {\n            localStorage.setItem(key, JSON.stringify(newState));\n        }\n    }, [state, key]);\n    return [state, setLocalStorageState];\n}\nexports.useLocalStorageState = useLocalStorageState;\n//# sourceMappingURL=useLocalStorageState.js.map"]},"metadata":{},"sourceType":"script"}