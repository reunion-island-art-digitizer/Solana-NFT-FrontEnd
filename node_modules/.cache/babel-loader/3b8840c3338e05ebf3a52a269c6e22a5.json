{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PhantomWalletAdapter = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar eventemitter3_1 = (0, tslib_1.__importDefault)(require(\"eventemitter3\"));\n\nvar types_1 = require(\"../types\");\n\nvar PhantomWalletAdapter = /*#__PURE__*/function (_eventemitter3_1$defa) {\n  _inherits(PhantomWalletAdapter, _eventemitter3_1$defa);\n\n  var _super = _createSuper(PhantomWalletAdapter);\n\n  function PhantomWalletAdapter() {\n    var _this;\n\n    _classCallCheck(this, PhantomWalletAdapter);\n\n    _this = _super.call(this);\n\n    _this._handleConnect = function () {\n      var _this2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      (_this2 = _this).emit.apply(_this2, [\"connect\"].concat(args));\n    };\n\n    _this._handleDisconnect = function () {\n      var _this3;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      (_this3 = _this).emit.apply(_this3, [\"disconnect\"].concat(args));\n    };\n\n    _this.connect = function () {\n      return (0, tslib_1.__awaiter)(_assertThisInitialized(_this), void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _a, _b, _c;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this._provider) {\n                  _context.next = 3;\n                  break;\n                }\n\n                window.open(\"https://phantom.app/\", \"_blank\", \"noopener noreferrer\");\n                throw new Error(\"Phantom not installed\");\n\n              case 3:\n                if (!this._provider.listeners(\"connect\").length) {\n                  (_a = this._provider) === null || _a === void 0 ? void 0 : _a.on(\"connect\", this._handleConnect);\n                }\n\n                if (!this._provider.listeners(\"disconnect\").length) {\n                  (_b = this._provider) === null || _b === void 0 ? void 0 : _b.on(\"disconnect\", this._handleDisconnect);\n                }\n\n                _context.next = 7;\n                return (_c = this._provider) === null || _c === void 0 ? void 0 : _c.connect();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(PhantomWalletAdapter, [{\n    key: \"_provider\",\n    get: function get() {\n      var _a;\n\n      if ((_a = window === null || window === void 0 ? void 0 : window.solana) === null || _a === void 0 ? void 0 : _a.isPhantom) {\n        return window.solana;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"connected\",\n    get: function get() {\n      var _a;\n\n      return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.isConnected) || false;\n    }\n  }, {\n    key: \"autoApprove\",\n    get: function get() {\n      var _a;\n\n      return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.autoApprove) || false;\n    }\n  }, {\n    key: \"signAllTransactions\",\n    value: function signAllTransactions(transactions) {\n      return (0, tslib_1.__awaiter)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this._provider) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", transactions);\n\n              case 2:\n                return _context2.abrupt(\"return\", this._provider.signAllTransactions(transactions));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"publicKey\",\n    get: function get() {\n      var _a;\n\n      return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.publicKey) || types_1.DEFAULT_PUBLIC_KEY;\n    }\n  }, {\n    key: \"signTransaction\",\n    value: function signTransaction(transaction) {\n      return (0, tslib_1.__awaiter)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this._provider) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", transaction);\n\n              case 2:\n                return _context3.abrupt(\"return\", this._provider.signTransaction(transaction));\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      return (0, tslib_1.__awaiter)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this._provider) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this._provider.disconnect();\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }]);\n\n  return PhantomWalletAdapter;\n}(eventemitter3_1.default);\n\nexports.PhantomWalletAdapter = PhantomWalletAdapter;","map":{"version":3,"sources":["../../../src/adapters/phantom/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhantomWalletAdapter = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventemitter3_1 = (0, tslib_1.__importDefault)(require(\"eventemitter3\"));\nconst types_1 = require(\"../types\");\nclass PhantomWalletAdapter extends eventemitter3_1.default {\n    constructor() {\n        super();\n        this._handleConnect = (...args) => {\n            this.emit(\"connect\", ...args);\n        };\n        this._handleDisconnect = (...args) => {\n            this.emit(\"disconnect\", ...args);\n        };\n        this.connect = () => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            var _a, _b, _c;\n            if (!this._provider) {\n                window.open(\"https://phantom.app/\", \"_blank\", \"noopener noreferrer\");\n                throw new Error(\"Phantom not installed\");\n            }\n            if (!this._provider.listeners(\"connect\").length) {\n                (_a = this._provider) === null || _a === void 0 ? void 0 : _a.on(\"connect\", this._handleConnect);\n            }\n            if (!this._provider.listeners(\"disconnect\").length) {\n                (_b = this._provider) === null || _b === void 0 ? void 0 : _b.on(\"disconnect\", this._handleDisconnect);\n            }\n            yield ((_c = this._provider) === null || _c === void 0 ? void 0 : _c.connect());\n        });\n    }\n    get _provider() {\n        var _a;\n        if ((_a = window === null || window === void 0 ? void 0 : window.solana) === null || _a === void 0 ? void 0 : _a.isPhantom) {\n            return window.solana;\n        }\n        return undefined;\n    }\n    get connected() {\n        var _a;\n        return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.isConnected) || false;\n    }\n    get autoApprove() {\n        var _a;\n        return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.autoApprove) || false;\n    }\n    signAllTransactions(transactions) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this._provider) {\n                return transactions;\n            }\n            return this._provider.signAllTransactions(transactions);\n        });\n    }\n    get publicKey() {\n        var _a;\n        return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.publicKey) || types_1.DEFAULT_PUBLIC_KEY;\n    }\n    signTransaction(transaction) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this._provider) {\n                return transaction;\n            }\n            return this._provider.signTransaction(transaction);\n        });\n    }\n    disconnect() {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this._provider) {\n                yield this._provider.disconnect();\n            }\n        });\n    }\n}\nexports.PhantomWalletAdapter = PhantomWalletAdapter;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}