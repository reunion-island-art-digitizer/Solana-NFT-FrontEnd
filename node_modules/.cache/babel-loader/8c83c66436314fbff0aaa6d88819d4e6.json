{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"C:/Users/piroi16/Documents/GitHub/Solana-NFT-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SolongWalletAdapter = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar eventemitter3_1 = (0, tslib_1.__importDefault)(require(\"eventemitter3\"));\n\nvar types_1 = require(\"../types\");\n\nvar SolongWalletAdapter = /*#__PURE__*/function (_eventemitter3_1$defa) {\n  _inherits(SolongWalletAdapter, _eventemitter3_1$defa);\n\n  var _super = _createSuper(SolongWalletAdapter);\n\n  function SolongWalletAdapter() {\n    var _this;\n\n    _classCallCheck(this, SolongWalletAdapter);\n\n    _this = _super.call(this);\n\n    _this.connect = function () {\n      return (0, tslib_1.__awaiter)(_assertThisInitialized(_this), void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this._onProcess) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (!(window.solong === undefined)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                throw new Error(\"Solong not installed\");\n\n              case 4:\n                this._onProcess = true;\n                _context.next = 7;\n                return window.solong.selectAccount().then(function (account) {\n                  _this2._publicKey = new web3_js_1.PublicKey(account);\n                  _this2._connected = true;\n\n                  _this2.emit(\"connect\", _this2._publicKey);\n                }).catch(function () {\n                  _this2.disconnect();\n                }).finally(function () {\n                  _this2._onProcess = false;\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    };\n\n    _this._onProcess = false;\n    _this._connected = false;\n    return _this;\n  }\n\n  _createClass(SolongWalletAdapter, [{\n    key: \"connected\",\n    get: function get() {\n      return this._connected;\n    }\n  }, {\n    key: \"autoApprove\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"signAllTransactions\",\n    value: function signAllTransactions(transactions) {\n      return (0, tslib_1.__awaiter)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var solong, result, i, transaction, signed;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                solong = window.solong;\n\n                if (solong) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Solong not found\");\n\n              case 3:\n                if (!solong.signAllTransactions) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", solong.signAllTransactions(transactions));\n\n              case 7:\n                result = [];\n                i = 0;\n\n              case 9:\n                if (!(i < transactions.length)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                transaction = transactions[i];\n\n                if (!transaction) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                _context2.next = 14;\n                return solong.signTransaction(transaction);\n\n              case 14:\n                signed = _context2.sent;\n                result.push(signed);\n\n              case 16:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 19:\n                return _context2.abrupt(\"return\", result);\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    }\n  }, {\n    key: \"publicKey\",\n    get: function get() {\n      return this._publicKey || types_1.DEFAULT_PUBLIC_KEY;\n    }\n  }, {\n    key: \"signTransaction\",\n    value: function signTransaction(transaction) {\n      return (0, tslib_1.__awaiter)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (window.solong) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Solong not found\");\n\n              case 2:\n                return _context3.abrupt(\"return\", window.solong.signTransaction(transaction));\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      if (this._publicKey) {\n        this._publicKey = undefined;\n        this._connected = false;\n        this.emit(\"disconnect\");\n      }\n    }\n  }]);\n\n  return SolongWalletAdapter;\n}(eventemitter3_1.default);\n\nexports.SolongWalletAdapter = SolongWalletAdapter;","map":{"version":3,"sources":["../../../src/adapters/solong/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,eAAA,GAAA,CAAA,GAAA,OAAA,CAAA,eAAA,EAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AAGA,IAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;IAEa,mB;;;;;AAKX,iCAAA;AAAA;;AAAA;;AACE;;AA+CF,UAAA,OAAA,GAAU;AAAA,aAA0B,CAAA,GAAA,OAAA,CAAA,SAAA,iCAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC9B,KAAK,UADyB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,sBAK9B,MAAM,CAAC,MAAP,KAAkB,SALY;AAAA;AAAA;AAAA;;AAAA,sBAM1B,IAAI,KAAJ,CAAU,sBAAV,CAN0B;;AAAA;AASlC,qBAAK,UAAL,GAAkB,IAAlB;AATkC;AAUlC,uBAAM,MAAM,CAAC,MAAP,CACH,aADG,GAEH,IAFG,CAEE,UAAC,OAAD,EAAY;AAChB,kBAAA,MAAI,CAAC,UAAL,GAAkB,IAAI,SAAA,CAAA,SAAJ,CAAc,OAAd,CAAlB;AACA,kBAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;;AACA,kBAAA,MAAI,CAAC,IAAL,CAAU,SAAV,EAAqB,MAAI,CAAC,UAA1B;AACD,iBANG,EAOH,KAPG,CAOG,YAAK;AACV,kBAAA,MAAI,CAAC,UAAL;AACD,iBATG,EAUH,OAVG,CAUK,YAAK;AACZ,kBAAA,MAAI,CAAC,UAAL,GAAkB,KAAlB;AACD,iBAZG,CAAN;;AAVkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA,EAA1B;AAAA,KAAV;;AA9CE,UAAK,UAAL,GAAkB,KAAlB;AACA,UAAK,UAAL,GAAkB,KAAlB;AAHF;AAIC;;;;SAED,eAAa;AACX,aAAO,KAAK,UAAZ;AACD;;;SAED,eAAe;AACb,aAAO,KAAP;AACD;;;WAEY,6BACX,YADW,EACgB;;;;;;;AAErB,gBAAA,M,GAAS,MAAM,CAAC,M;;oBACjB,M;;;;;sBACG,IAAI,KAAJ,CAAU,kBAAV,C;;;qBAEJ,MAAM,CAAC,mB;;;;;kDACF,MAAM,CAAC,mBAAP,CAA2B,YAA3B,C;;;AAED,gBAAA,M,GAAwB,E;AACrB,gBAAA,C,GAAI,C;;;sBAAG,CAAC,GAAG,YAAY,CAAC,M;;;;;AACzB,gBAAA,W,GAAc,YAAY,CAAC,CAAD,C;;qBAC5B,W;;;;;;AACa,uBAAM,MAAM,CAAC,eAAP,CAAuB,WAAvB,CAAN;;;AAAT,gBAAA,M;AACN,gBAAA,MAAM,CAAC,IAAP,CAAY,MAAZ;;;AAJqC,gBAAA,CAAC,E;;;;;kDAQnC,M;;;;;;;;;AAEV;;;SAED,eAAa;AACX,aAAO,KAAK,UAAL,IAAmB,OAAA,CAAA,kBAA1B;AACD;;;WAEK,yBAAgB,WAAhB,EAAwC;;;;;;oBACvC,MAAM,CAAC,M;;;;;sBACJ,IAAI,KAAJ,CAAU,kBAAV,C;;;kDAED,MAAM,CAAC,MAAP,CAAc,eAAd,CAA8B,WAA9B,C;;;;;;;;;AACR;;;WA2BD,sBAAU;AACR,UAAI,KAAK,UAAT,EAAqB;AACnB,aAAK,UAAL,GAAkB,SAAlB;AACA,aAAK,UAAL,GAAkB,KAAlB;AACA,aAAK,IAAL,CAAU,YAAV;AACD;AACF;;;;EApFsC,eAAA,CAAA,O;;AAAzC,OAAA,CAAA,mBAAA,GAAA,mBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolongWalletAdapter = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst eventemitter3_1 = (0, tslib_1.__importDefault)(require(\"eventemitter3\"));\nconst types_1 = require(\"../types\");\nclass SolongWalletAdapter extends eventemitter3_1.default {\n    constructor() {\n        super();\n        this.connect = () => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this._onProcess) {\n                return;\n            }\n            if (window.solong === undefined) {\n                throw new Error(\"Solong not installed\");\n            }\n            this._onProcess = true;\n            yield window.solong\n                .selectAccount()\n                .then((account) => {\n                this._publicKey = new web3_js_1.PublicKey(account);\n                this._connected = true;\n                this.emit(\"connect\", this._publicKey);\n            })\n                .catch(() => {\n                this.disconnect();\n            })\n                .finally(() => {\n                this._onProcess = false;\n            });\n        });\n        this._onProcess = false;\n        this._connected = false;\n    }\n    get connected() {\n        return this._connected;\n    }\n    get autoApprove() {\n        return false;\n    }\n    signAllTransactions(transactions) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const solong = window.solong;\n            if (!solong) {\n                throw new Error(\"Solong not found\");\n            }\n            if (solong.signAllTransactions) {\n                return solong.signAllTransactions(transactions);\n            }\n            else {\n                const result = [];\n                for (let i = 0; i < transactions.length; i++) {\n                    const transaction = transactions[i];\n                    if (transaction) {\n                        const signed = yield solong.signTransaction(transaction);\n                        result.push(signed);\n                    }\n                }\n                return result;\n            }\n        });\n    }\n    get publicKey() {\n        return this._publicKey || types_1.DEFAULT_PUBLIC_KEY;\n    }\n    signTransaction(transaction) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!window.solong) {\n                throw new Error(\"Solong not found\");\n            }\n            return window.solong.signTransaction(transaction);\n        });\n    }\n    disconnect() {\n        if (this._publicKey) {\n            this._publicKey = undefined;\n            this._connected = false;\n            this.emit(\"disconnect\");\n        }\n    }\n}\nexports.SolongWalletAdapter = SolongWalletAdapter;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}