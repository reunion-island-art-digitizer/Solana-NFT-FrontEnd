{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletStepSelect = void 0;\n\nconst jsx_runtime_1 = require(\"@emotion/react/jsx-runtime\");\n\nconst styled_1 = __importDefault(require(\"@emotion/styled\"));\n\nconst use_solana_1 = require(\"@saberhq/use-solana\");\n\nconst react_1 = require(\"react\");\n\nconst react_device_detect_1 = require(\"react-device-detect\");\n\nconst WalletProviderOption_1 = require(\"./WalletProviderOption\");\n\nconst getWalletProviders = () => {\n  const base = Object.entries(use_solana_1.WALLET_PROVIDERS).filter(([, p]) => typeof window !== \"undefined\" && react_device_detect_1.isMobile ? p.isMobile : true).slice().sort(([, a], [, b]) => {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (typeof window !== \"undefined\") {\n      return ((_b = (_a = a.isInstalled) === null || _a === void 0 ? void 0 : _a.call(a)) !== null && _b !== void 0 ? _b : true) === ((_d = (_c = b.isInstalled) === null || _c === void 0 ? void 0 : _c.call(b)) !== null && _d !== void 0 ? _d : true) ? a.name < b.name ? -1 : 1 : ((_f = (_e = a.isInstalled) === null || _e === void 0 ? void 0 : _e.call(a)) !== null && _f !== void 0 ? _f : true) ? -1 : 1;\n    }\n\n    return a.name < b.name ? -1 : 1;\n  }).map(([walletType, info]) => ({\n    type: walletType,\n    info,\n    mustInstall: !!(typeof window !== \"undefined\" && info.isInstalled && info.isInstalled())\n  })) // no secret key for now\n  .filter(p => p.type !== use_solana_1.WalletType.SecretKey);\n  return [...base, {\n    type: use_solana_1.WalletType.Ledger,\n    info: Object.assign(Object.assign({}, use_solana_1.WALLET_PROVIDERS.Ledger), {\n      name: \"Ledger (advanced)\",\n      url: \"https://ledger.com\",\n      isMobile: false\n    }),\n    mustInstall: false\n  }];\n};\n\nconst WalletStepSelect = ({\n  onSelect,\n  onInstall\n}) => {\n  const [showUninstalled, setShowUninstalled] = (0, react_1.useState)(false);\n  const [providerInfo, setProviderInfo] = (0, react_1.useState)(getWalletProviders());\n  (0, react_1.useEffect)(() => {\n    // wait a second for everything to load\n    const timeout = setTimeout(() => {\n      setProviderInfo(getWalletProviders());\n    }, 1000);\n    return () => clearTimeout(timeout);\n  }, []);\n  return (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, {\n    children: [(0, jsx_runtime_1.jsx)(Heading, {\n      children: \"Select your wallet\"\n    }, void 0), (0, jsx_runtime_1.jsxs)(ScrollArea, {\n      children: [(0, jsx_runtime_1.jsx)(Wallets, {\n        children: providerInfo.filter(prov => showUninstalled ? true : prov.mustInstall || !prov.info.isInstalled).map(fullInfo => {\n          const {\n            info: provider\n          } = fullInfo;\n          return (0, jsx_runtime_1.jsx)(WalletProviderOption_1.WalletProviderOption, {\n            info: provider,\n            onSelect: () => {\n              onSelect === null || onSelect === void 0 ? void 0 : onSelect(fullInfo);\n            },\n            onInstall: onInstall\n          }, provider.url);\n        })\n      }, void 0), (0, jsx_runtime_1.jsx)(ShowUninstalledWrapper, {\n        children: (0, jsx_runtime_1.jsxs)(ShowUninstalled, Object.assign({\n          onClick: () => setShowUninstalled(!showUninstalled)\n        }, {\n          children: [showUninstalled ? \"Hide\" : \"Show\", \" uninstalled wallets\"]\n        }), void 0)\n      }, void 0)]\n    }, void 0)]\n  }, void 0);\n};\n\nexports.WalletStepSelect = WalletStepSelect;\nconst ScrollArea = styled_1.default.div`\n  height: calc(100% - 125px);\n  overflow-y: scroll;\n`;\nconst Wallets = styled_1.default.div`\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 65px;\n`;\nconst Heading = styled_1.default.h2`\n  padding: 48px 28px 0;\n\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 25px;\n  letter-spacing: -0.02em;\n  color: #000000;\n  margin-bottom: 24px;\n`;\nconst ShowUninstalled = styled_1.default.a`\n  text-decoration: none;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\nconst ShowUninstalledWrapper = styled_1.default.div`\n  margin: 24px 0;\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;","map":{"version":3,"sources":["../../../../src/components/WalletSelectorModal/WalletStepSelect/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletStepSelect = void 0;\nconst jsx_runtime_1 = require(\"@emotion/react/jsx-runtime\");\nconst styled_1 = __importDefault(require(\"@emotion/styled\"));\nconst use_solana_1 = require(\"@saberhq/use-solana\");\nconst react_1 = require(\"react\");\nconst react_device_detect_1 = require(\"react-device-detect\");\nconst WalletProviderOption_1 = require(\"./WalletProviderOption\");\nconst getWalletProviders = () => {\n    const base = Object.entries(use_solana_1.WALLET_PROVIDERS)\n        .filter(([, p]) => typeof window !== \"undefined\" && react_device_detect_1.isMobile ? p.isMobile : true)\n        .slice()\n        .sort(([, a], [, b]) => {\n        var _a, _b, _c, _d, _e, _f;\n        if (typeof window !== \"undefined\") {\n            return ((_b = (_a = a.isInstalled) === null || _a === void 0 ? void 0 : _a.call(a)) !== null && _b !== void 0 ? _b : true) === ((_d = (_c = b.isInstalled) === null || _c === void 0 ? void 0 : _c.call(b)) !== null && _d !== void 0 ? _d : true)\n                ? a.name < b.name\n                    ? -1\n                    : 1\n                : ((_f = (_e = a.isInstalled) === null || _e === void 0 ? void 0 : _e.call(a)) !== null && _f !== void 0 ? _f : true)\n                    ? -1\n                    : 1;\n        }\n        return a.name < b.name ? -1 : 1;\n    })\n        .map(([walletType, info]) => ({\n        type: walletType,\n        info,\n        mustInstall: !!(typeof window !== \"undefined\" &&\n            info.isInstalled &&\n            info.isInstalled()),\n    }))\n        // no secret key for now\n        .filter((p) => p.type !== use_solana_1.WalletType.SecretKey);\n    return [\n        ...base,\n        {\n            type: use_solana_1.WalletType.Ledger,\n            info: Object.assign(Object.assign({}, use_solana_1.WALLET_PROVIDERS.Ledger), { name: \"Ledger (advanced)\", url: \"https://ledger.com\", isMobile: false }),\n            mustInstall: false,\n        },\n    ];\n};\nconst WalletStepSelect = ({ onSelect, onInstall, }) => {\n    const [showUninstalled, setShowUninstalled] = (0, react_1.useState)(false);\n    const [providerInfo, setProviderInfo] = (0, react_1.useState)(getWalletProviders());\n    (0, react_1.useEffect)(() => {\n        // wait a second for everything to load\n        const timeout = setTimeout(() => {\n            setProviderInfo(getWalletProviders());\n        }, 1000);\n        return () => clearTimeout(timeout);\n    }, []);\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(Heading, { children: \"Select your wallet\" }, void 0), (0, jsx_runtime_1.jsxs)(ScrollArea, { children: [(0, jsx_runtime_1.jsx)(Wallets, { children: providerInfo\n                            .filter((prov) => showUninstalled\n                            ? true\n                            : prov.mustInstall || !prov.info.isInstalled)\n                            .map((fullInfo) => {\n                            const { info: provider } = fullInfo;\n                            return ((0, jsx_runtime_1.jsx)(WalletProviderOption_1.WalletProviderOption, { info: provider, onSelect: () => {\n                                    onSelect === null || onSelect === void 0 ? void 0 : onSelect(fullInfo);\n                                }, onInstall: onInstall }, provider.url));\n                        }) }, void 0), (0, jsx_runtime_1.jsx)(ShowUninstalledWrapper, { children: (0, jsx_runtime_1.jsxs)(ShowUninstalled, Object.assign({ onClick: () => setShowUninstalled(!showUninstalled) }, { children: [showUninstalled ? \"Hide\" : \"Show\", \" uninstalled wallets\"] }), void 0) }, void 0)] }, void 0)] }, void 0));\n};\nexports.WalletStepSelect = WalletStepSelect;\nconst ScrollArea = styled_1.default.div `\n  height: calc(100% - 125px);\n  overflow-y: scroll;\n`;\nconst Wallets = styled_1.default.div `\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 65px;\n`;\nconst Heading = styled_1.default.h2 `\n  padding: 48px 28px 0;\n\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 25px;\n  letter-spacing: -0.02em;\n  color: #000000;\n  margin-bottom: 24px;\n`;\nconst ShowUninstalled = styled_1.default.a `\n  text-decoration: none;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\nconst ShowUninstalledWrapper = styled_1.default.div `\n  margin: 24px 0;\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}