{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SolflareExtensionWalletAdapter = void 0;\n\nconst tslib_1 = require(\"tslib\");\n\nconst eventemitter3_1 = (0, tslib_1.__importDefault)(require(\"eventemitter3\"));\n\nconst types_1 = require(\"../types\");\n/**\n * Docs: https://rentry.co/solflareX_connect\n */\n\n\nclass SolflareExtensionWalletAdapter extends eventemitter3_1.default {\n  constructor() {\n    super();\n\n    this._handleConnect = (...args) => {\n      this.emit(\"connect\", ...args);\n    };\n\n    this._handleDisconnect = (...args) => {\n      this.emit(\"disconnect\", ...args);\n    };\n\n    this.connect = () => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n      var _a, _b, _c;\n\n      if (!this._provider) {\n        window.open(\"https://solflare.com/\", \"_blank\", \"noopener\");\n        throw new Error(\"Solflare Extension not installed\");\n      }\n\n      if (!this._provider.listeners(\"connect\").length) {\n        (_a = this._provider) === null || _a === void 0 ? void 0 : _a.on(\"connect\", this._handleConnect);\n      }\n\n      if (!this._provider.listeners(\"disconnect\").length) {\n        (_b = this._provider) === null || _b === void 0 ? void 0 : _b.on(\"disconnect\", this._handleDisconnect);\n      }\n\n      yield (_c = this._provider) === null || _c === void 0 ? void 0 : _c.connect();\n    });\n  }\n\n  get _provider() {\n    var _a;\n\n    if ((_a = window === null || window === void 0 ? void 0 : window.solflare) === null || _a === void 0 ? void 0 : _a.isSolflare) {\n      return window.solflare;\n    }\n\n    return undefined;\n  }\n\n  get connected() {\n    var _a;\n\n    return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.isConnected) || false;\n  }\n\n  get autoApprove() {\n    var _a;\n\n    return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.autoApprove) || false;\n  }\n\n  signAllTransactions(transactions) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n      if (!this._provider) {\n        return transactions;\n      }\n\n      return this._provider.signAllTransactions(transactions);\n    });\n  }\n\n  get publicKey() {\n    var _a;\n\n    return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.publicKey) || types_1.DEFAULT_PUBLIC_KEY;\n  }\n\n  signTransaction(transaction) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n      if (!this._provider) {\n        return transaction;\n      }\n\n      return this._provider.signTransaction(transaction);\n    });\n  }\n\n  disconnect() {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n      if (this._provider) {\n        yield this._provider.disconnect();\n      }\n    });\n  }\n\n}\n\nexports.SolflareExtensionWalletAdapter = SolflareExtensionWalletAdapter;","map":{"version":3,"sources":["../../../src/adapters/solflare-extension/index.tsx"],"names":[],"mappings":";;;;;;;;;AACA,MAAA,eAAA,GAAA,CAAA,GAAA,OAAA,CAAA,eAAA,EAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AAIA,MAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;AAEA;;AAEG;;;AACH,MAAa,8BAAb,SACU,eAAA,CAAA,OADV,CACsB;AAGpB,EAAA,WAAA,GAAA;AACE;;AAUM,SAAA,cAAA,GAAiB,CAAC,GAAG,IAAJ,KAAuB;AAC9C,WAAK,IAAL,CAAU,SAAV,EAAqB,GAAG,IAAxB;AACD,KAFO;;AAIA,SAAA,iBAAA,GAAoB,CAAC,GAAG,IAAJ,KAAuB;AACjD,WAAK,IAAL,CAAU,YAAV,EAAwB,GAAG,IAA3B;AACD,KAFO;;AAkCR,SAAA,OAAA,GAAU,MAA0B,CAAA,GAAA,OAAA,CAAA,SAAA,EAAA,IAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;;;AAClC,UAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,QAAA,MAAM,CAAC,IAAP,CAAY,uBAAZ,EAAqC,QAArC,EAA+C,UAA/C;AACA,cAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN;AACD;;AACD,UAAI,CAAC,KAAK,SAAL,CAAe,SAAf,CAAyB,SAAzB,EAAoC,MAAzC,EAAiD;AAC/C,SAAA,EAAA,GAAA,KAAK,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,EAAF,CAAK,SAAL,EAAgB,KAAK,cAArB,CAAd;AACD;;AACD,UAAI,CAAC,KAAK,SAAL,CAAe,SAAf,CAAyB,YAAzB,EAAuC,MAA5C,EAAoD;AAClD,SAAA,EAAA,GAAA,KAAK,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,EAAF,CAAK,YAAL,EAAmB,KAAK,iBAAxB,CAAd;AACD;;AACD,YAAM,CAAA,EAAA,GAAA,KAAK,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,OAAF,EAApB;AACD,KAZmC,CAApC;AA/CC;;AAEoB,MAAT,SAAS,GAAA;;;AACnB,QAAI,CAAA,EAAA,GAAA,MAAM,KAAA,IAAN,IAAA,MAAM,KAAA,KAAA,CAAN,GAAM,KAAA,CAAN,GAAA,MAAM,CAAE,QAAR,MAAgB,IAAhB,IAAgB,EAAA,KAAA,KAAA,CAAhB,GAAgB,KAAA,CAAhB,GAAgB,EAAA,CAAE,UAAtB,EAAkC;AAChC,aAAO,MAAM,CAAC,QAAd;AACD;;AACD,WAAO,SAAP;AACD;;AAUY,MAAT,SAAS,GAAA;;;AACX,WAAO,CAAA,CAAA,EAAA,GAAA,KAAK,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,WAAhB,KAA+B,KAAtC;AACD;;AAEc,MAAX,WAAW,GAAA;;;AACb,WAAO,CAAA,CAAA,EAAA,GAAA,KAAK,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,WAAhB,KAA+B,KAAtC;AACD;;AAEK,EAAA,mBAAmB,CACvB,YADuB,EACI;;AAE3B,UAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,eAAO,YAAP;AACD;;AAED,aAAO,KAAK,SAAL,CAAe,mBAAf,CAAmC,YAAnC,CAAP;AACD,K;AAAA;;AAEY,MAAT,SAAS,GAAA;;;AACX,WAAO,CAAA,CAAA,EAAA,GAAA,KAAK,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,SAAhB,KAA6B,OAAA,CAAA,kBAApC;AACD;;AAEK,EAAA,eAAe,CAAC,WAAD,EAAyB;;AAC5C,UAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,eAAO,WAAP;AACD;;AAED,aAAO,KAAK,SAAL,CAAe,eAAf,CAA+B,WAA/B,CAAP;AACD,K;AAAA;;AAgBK,EAAA,UAAU,GAAA;;AACd,UAAI,KAAK,SAAT,EAAoB;AAClB,cAAM,KAAK,SAAL,CAAe,UAAf,EAAN;AACD;AACF,K;AAAA;;AAtEmB;;AADtB,OAAA,CAAA,8BAAA,GAAA,8BAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolflareExtensionWalletAdapter = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventemitter3_1 = (0, tslib_1.__importDefault)(require(\"eventemitter3\"));\nconst types_1 = require(\"../types\");\n/**\n * Docs: https://rentry.co/solflareX_connect\n */\nclass SolflareExtensionWalletAdapter extends eventemitter3_1.default {\n    constructor() {\n        super();\n        this._handleConnect = (...args) => {\n            this.emit(\"connect\", ...args);\n        };\n        this._handleDisconnect = (...args) => {\n            this.emit(\"disconnect\", ...args);\n        };\n        this.connect = () => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            var _a, _b, _c;\n            if (!this._provider) {\n                window.open(\"https://solflare.com/\", \"_blank\", \"noopener\");\n                throw new Error(\"Solflare Extension not installed\");\n            }\n            if (!this._provider.listeners(\"connect\").length) {\n                (_a = this._provider) === null || _a === void 0 ? void 0 : _a.on(\"connect\", this._handleConnect);\n            }\n            if (!this._provider.listeners(\"disconnect\").length) {\n                (_b = this._provider) === null || _b === void 0 ? void 0 : _b.on(\"disconnect\", this._handleDisconnect);\n            }\n            yield ((_c = this._provider) === null || _c === void 0 ? void 0 : _c.connect());\n        });\n    }\n    get _provider() {\n        var _a;\n        if ((_a = window === null || window === void 0 ? void 0 : window.solflare) === null || _a === void 0 ? void 0 : _a.isSolflare) {\n            return window.solflare;\n        }\n        return undefined;\n    }\n    get connected() {\n        var _a;\n        return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.isConnected) || false;\n    }\n    get autoApprove() {\n        var _a;\n        return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.autoApprove) || false;\n    }\n    signAllTransactions(transactions) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this._provider) {\n                return transactions;\n            }\n            return this._provider.signAllTransactions(transactions);\n        });\n    }\n    get publicKey() {\n        var _a;\n        return ((_a = this._provider) === null || _a === void 0 ? void 0 : _a.publicKey) || types_1.DEFAULT_PUBLIC_KEY;\n    }\n    signTransaction(transaction) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this._provider) {\n                return transaction;\n            }\n            return this._provider.signTransaction(transaction);\n        });\n    }\n    disconnect() {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this._provider) {\n                yield this._provider.disconnect();\n            }\n        });\n    }\n}\nexports.SolflareExtensionWalletAdapter = SolflareExtensionWalletAdapter;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}